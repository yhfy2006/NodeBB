"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[34405],{34405:(y,g,d)=>{var m,s;m=[d(49897),d(29930)],s=function(b,l){const c={},h={delay:200,appendTo:null};c.init=u=>{const e={...h,...u},{input:n,onSelect:a}=e;app.loadJQueryUI(function(){n.autocomplete({...e,open:function(){$(this).autocomplete("widget").css("z-index",100005)},select:function(t,i){_(n,a,t,i)}})})},c.user=function(u,e,n){typeof e=="function"&&(n=e,e={}),e=e||{},c.init({input:u,onSelect:n,source:(a,t)=>{e.query=a.term,b.get("/api/users",e,function(i,r){if(i)return l.error(i);if(r&&r.users){const f=r.users.map(function(o){const p=$("<div></div>").html(o.username).text();return o&&{label:p,value:p,user:{uid:o.uid,name:o.username,slug:o.userslug,username:o.username,userslug:o.userslug,picture:o.picture,banned:o.banned,"icon:text":o["icon:text"],"icon:bgColor":o["icon:bgColor"]}}});t(f)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})},c.group=function(u,e){c.init({input:u,onSelect:e,source:(n,a)=>{socket.emit("groups.search",{query:n.term},function(t,i){if(t)return l.error(t);if(i&&i.length){const r=i.map(function(f){return f&&{label:f.name,value:f.name,group:f}});a(r)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})},c.tag=function(u,e){c.init({input:u,onSelect:e,delay:100,source:(n,a)=>{socket.emit("topics.autocompleteTags",{query:n.term,cid:ajaxify.data.cid||0},function(t,i){if(t)return l.error(t);i&&a(i),$(".ui-autocomplete a").attr("data-ajaxify","false")})}})};function _(u,e,n,a){e=e||function(){};const t=jQuery.Event("keypress");t.which=13,t.keyCode=13,setTimeout(function(){u.trigger(t)},100),e(n,a)}return c}.apply(g,m),s!==void 0&&(y.exports=s)}}]);
