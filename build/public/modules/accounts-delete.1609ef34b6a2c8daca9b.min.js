"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[5719,99127,34271,1091,49897],{47283:(_,d,a)=>{var f,i;f=[a(49897),a(40027),a(29930)],i=function(l,P,h){const r={};r.account=function(o,u){s(o,"[[user:delete-this-account-confirm]]","/account","[[user:account-deleted]]",u)},r.content=function(o,u){s(o,"[[user:delete-account-content-confirm]]","/content","[[user:account-content-deleted]]",u)},r.purge=function(o,u){s(o,"[[user:delete-all-confirm]]","","[[user:account-deleted]]",u)};function s(o,u,g,m,E){P.confirm(u,function(y){y&&l.del(`/users/${o}${g}`,{}).then(()=>{if(h.success(m),typeof E=="function")return E()}).catch(h.error)})}return r}.apply(d,f),i!==void 0&&(_.exports=i)},49897:(_,d,a)=>{a.r(d),a.d(d,{del:()=>y,get:()=>o,head:()=>u,patch:()=>m,post:()=>g,put:()=>E});var f=a(91749),i=a.n(f),l=a(40027),P=a.n(l);const h=config.relative_path+"/api/v3";async function r(t,n){if(t.url=t.url.startsWith("/api")?config.relative_path+t.url:h+t.url,typeof n=="function"){s(t).then(e=>n(null,e),e=>n(e));return}try{return await s(t)}catch(e){if(e.message==="A valid login session was not found. Please log in and try again.")return(0,l.confirm)("[[error:api.reauth-required]]",D=>{D&&ajaxify.go("login")});throw e}}async function s(t){const{url:n}=t;delete t.url,t.data&&!(t.data instanceof FormData)&&(t.data=JSON.stringify(t.data||{}),t.headers["content-type"]="application/json; charset=utf-8"),{options:t}=await(0,f.fire)("filter:api.options",{options:t}),t.data&&(t.body=t.data,delete t.data);const e=await fetch(n,t),{headers:D}=e,p=D.get("content-type"),O=p&&p.startsWith("application/json");let c;if(t.method!=="head"&&(O?c=await e.json():c=await e.text()),!e.ok)throw c?new Error(O?c.status.message:c):new Error(e.statusText);return O&&c&&c.hasOwnProperty("status")&&c.hasOwnProperty("response")?c.response:c}function o(t,n,e){return r({url:t+(n&&Object.keys(n).length?"?"+$.param(n):"")},e)}function u(t,n,e){return r({url:t+(n&&Object.keys(n).length?"?"+$.param(n):""),method:"head"},e)}function g(t,n,e){return r({url:t,method:"post",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}function m(t,n,e){return r({url:t,method:"patch",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}function E(t,n,e){return r({url:t,method:"put",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}function y(t,n,e){return r({url:t,method:"delete",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}}}]);
