(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[73848,6232],{88518:(c,u,g)=>{c.exports=g(54516)},89596:(c,u,g)=>{c.exports=g(62590)},62590:(c,u,g)=>{"use strict";var p,f;p=[g(91749)],f=function(m){var r={};return r.render=function(i,t){if(t=t||function(){},!i.find(".preview-container").is(":visible"))return t();var n=i.find("textarea");socket.emit("plugins.composer.renderPreview",n.val(),function(s,l){s||(l=$("<div>"+l+"</div>"),l.find("img:not(.not-responsive)").addClass("img-fluid"),i.find(".preview").html(l),m.fire("action:composer.preview",{postContainer:i,preview:l}),t())})},r.matchScroll=function(i){if(i.find(".preview-container").is(":visible")){var t=i.find("textarea"),n=i.find(".preview");if(t.length&&n.length){var s=t[0].scrollHeight-t.height();if(s===0)return;var l=t.scrollTop()/s;n.scrollTop(Math.max(n[0].scrollHeight-n.height(),0)*l)}}},r.handleToggler=function(i){const t=i.get(0);r.env=utils.findBootstrapEnvironment();const n=["xs","sm"].includes(r.env),s=t.querySelector('.formatting-bar [data-action="preview"]'),l=s.querySelector(".show-text"),x=s.querySelector(".hide-text"),_=localStorage.getItem("composer:previewToggled"),h=config["composer-default"].hidePreviewOnOpen==="on";let d=!n&&(_===null&&!h||_==="true");const a=t.querySelector(".preview-container"),o=t.querySelector(".write-container");if(!s)return;function v(e){n?(a.classList.toggle("hide",!1),o.classList.toggle("maximized",!1),a.classList.toggle("d-none",!e),a.classList.toggle("d-flex",e),a.classList.toggle("w-100",e),o.classList.toggle("d-flex",!e),o.classList.toggle("d-none",e),o.classList.toggle("w-100",!e)):(a.classList.toggle("hide",!e),o.classList.toggle("w-50",e),o.classList.toggle("w-100",!e),localStorage.setItem("composer:previewToggled",e)),l.classList.toggle("hide",e),x.classList.toggle("hide",!e),e&&r.render(i),r.matchScroll(i)}r.toggle=v,s.addEventListener("click",e=>{e.button===0&&(d=!d,v(d))}),v(d)},r}.apply(u,p),f!==void 0&&(c.exports=f)}}]);
