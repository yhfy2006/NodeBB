"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[28440],{77882:(l,f,s)=>{var d,c;d=[s(40027),s(17459),s(29930)],c=function(p,u,i){const r={};r.init=function(){$("#installed_themes").on("click",function(t){const e=$(t.target),n=e.attr("data-action");if(n&&n==="use"){const a=e.parents("[data-theme]"),g=a.attr("data-type"),b=a.attr("data-css"),m=a.attr("data-theme");if(config["theme:id"]===m)return;socket.emit("admin.themes.set",{type:g,id:m,src:b},function(h){if(h)return i.error(h);config["theme:id"]=m,o(m),i.alert({alert_id:"admin:theme",type:"info",title:"[[admin/appearance/themes:theme-changed]]",message:"[[admin/appearance/themes:restart-to-activate]]",timeout:5e3,clickfn:function(){s.e(32050).then(function(){var y=[s(27270)];(function(A){A.rebuildAndRestart()}).apply(null,y)}).catch(s.oe)}})})}}),$("#revert_theme").on("click",function(){config["theme:id"]!=="nodebb-theme-harmony"&&p.confirm("[[admin/appearance/themes:revert-confirm]]",function(t){t&&socket.emit("admin.themes.set",{type:"local",id:"nodebb-theme-harmony"},function(e){if(e)return i.error(e);config["theme:id"]="nodebb-theme-harmony",o("nodebb-theme-harmony"),i.alert({alert_id:"admin:theme",type:"success",title:"[[admin/appearance/themes:theme-changed]]",message:"[[admin/appearance/themes:revert-success]]",timeout:3500})})})}),socket.emit("admin.themes.getInstalled",function(t,e){if(t)return i.error(t);const n=$("#installed_themes");e.length?app.parseAndTranslate("admin/partials/theme_list",{themes:e},function(a){n.html(a),o(config["theme:id"])}):n.append($("<li/ >").addClass("no-themes").translateHtml("[[admin/appearance/themes:no-themes]]"))})};function o(t){u.translate("[[admin/appearance/themes:select-theme]]  ||  [[admin/appearance/themes:current-theme]]",function(e){e=e.split("  ||  ");const n=e[0],a=e[1];$("[data-theme]").removeClass("selected").find('[data-action="use"]').html(n).removeClass("btn-success").addClass("btn-primary"),$('[data-theme="'+t+'"]').addClass("selected").find('[data-action="use"]').html(a).removeClass("btn-primary").addClass("btn-success")})}return r}.apply(f,d),c!==void 0&&(l.exports=c)}}]);
