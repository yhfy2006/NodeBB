(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[80896,99127,34271,1091,49897],{86246:(u,o,n)=>{u.exports=n(35347)},49897:(u,o,n)=>{"use strict";n.r(o),n.d(o,{del:()=>m,get:()=>_,head:()=>p,patch:()=>E,post:()=>y,put:()=>O});var h=n(91749),x=n.n(h),l=n(40027),k=n.n(l);const g=config.relative_path+"/api/v3";async function s(e,r){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:g+e.url,typeof r=="function"){d(e).then(t=>r(null,t),t=>r(t));return}try{return await d(e)}catch(t){if(t.message==="A valid login session was not found. Please log in and try again.")return(0,l.confirm)("[[error:api.reauth-required]]",f=>{f&&ajaxify.go("login")});throw t}}async function d(e){const{url:r}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,h.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const t=await fetch(r,e),{headers:f}=t,i=f.get("content-type"),c=i&&i.startsWith("application/json");let a;if(e.method!=="head"&&(c?a=await t.json():a=await t.text()),!t.ok)throw a?new Error(c?a.status.message:a):new Error(t.statusText);return c&&a&&a.hasOwnProperty("status")&&a.hasOwnProperty("response")?a.response:a}function _(e,r,t){return s({url:e+(r&&Object.keys(r).length?"?"+$.param(r):"")},t)}function p(e,r,t){return s({url:e+(r&&Object.keys(r).length?"?"+$.param(r):""),method:"head"},t)}function y(e,r,t){return s({url:e,method:"post",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function E(e,r,t){return s({url:e,method:"patch",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function O(e,r,t){return s({url:e,method:"put",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function m(e,r,t){return s({url:e,method:"delete",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}},46243:(u,o,n)=>{u.exports=n(69627)}}]);
