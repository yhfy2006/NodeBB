"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[38747],{49859:(l,y,g)=>{var d,r;d=[g(67910),g(29930),g(49897)],r=function(m,p,s){const h={};h.init=function(){m.init(),ajaxify.data.categories.forEach(function(c){u(c.cid)}),$('[component="category/watch/all"]').find('[component="category/watching"], [component="category/tracking"], [component="category/ignoring"], [component="category/notwatching"]').on("click",async c=>{const t=[],a=c.currentTarget.getAttribute("data-state"),{uid:n}=ajaxify.data;$('[data-parent-cid="0"]').each(function(o,i){t.push($(i).attr("data-cid"))});let e=await Promise.all(t.map(async o=>s.put(`/categories/${o}/watch`,{state:a,uid:n})));e=e.reduce((o,i)=>o.concat(i.modified),[]).filter((o,i,k)=>k.indexOf(o)===i),f(e,a)})};function u(c){$('[data-cid="'+c+'"]').find('[component="category/watching"], [component="category/tracking"], [component="category/ignoring"], [component="category/notwatching"]').on("click",async a=>{const n=a.currentTarget.getAttribute("data-state"),{uid:e}=ajaxify.data,{modified:o}=await s.put(`/categories/${c}/watch`,{state:n,uid:e});f(o,n),p.success("[[category:"+n+".message]]")})}function f(c,t){c.forEach(function(a){const n=$('[data-cid="'+a+'"]');n.find('[component="category/watching/menu"]').toggleClass("hidden",t!=="watching"),n.find('[component="category/watching/check"]').toggleClass("fa-check",t==="watching"),n.find('[component="category/tracking/menu"]').toggleClass("hidden",t!=="tracking"),n.find('[component="category/tracking/check"]').toggleClass("fa-check",t==="tracking"),n.find('[component="category/notwatching/menu"]').toggleClass("hidden",t!=="notwatching"),n.find('[component="category/notwatching/check"]').toggleClass("fa-check",t==="notwatching"),n.find('[component="category/ignoring/menu"]').toggleClass("hidden",t!=="ignoring"),n.find('[component="category/ignoring/check"]').toggleClass("fa-check",t==="ignoring")})}return h}.apply(y,d),r!==void 0&&(l.exports=r)}}]);
