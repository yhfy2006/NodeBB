"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[34229],{60089:(u,l,i)=>{var r,a;r=[i(67910),i(49897),i(91749),i(29930)],a=function(f,d,g,c){const s={};return s.init=function(){f.init();const n=$('[component="blocks/search/list"]');$("#user-search").on("keyup",function(){const e=this.value;if(!e)return n.translateHtml('<li><a href="#" class="dropdown-item" role="menuitem">[[admin/menu:search.start-typing]]</a></li>');d.get("/api/users",{query:e,searchBy:"username",paginate:!1},function(t,o){if(t)return c.error(t);if(!o.users.length)return n.translateHtml('<li><a href="#" class="dropdown-item" role="menuitem">[[users:no-users-found]]</a></li>');o.matchCount>10&&(o.users.length=10),app.parseAndTranslate("account/blocks","edit",{edit:o.users},function(h){$(".block-edit").html(h)})})}),$(".block-edit").on("click",'[data-action="toggle"]',function(){const e=parseInt(this.getAttribute("data-uid"),10);socket.emit("user.toggleBlock",{blockeeUid:e,blockerUid:ajaxify.data.uid},s.refreshList)})},s.refreshList=function(n){if(n)return c.error(n);$.get(config.relative_path+"/api/"+ajaxify.currentPage).done(function(e){app.parseAndTranslate("account/blocks","users",e,function(t){t.find(".timeago").timeago(),$("#users-container").html(t),$("#users-container").siblings("div.alert")[t.length?"hide":"show"]()}),g.fire("action:user.blocks.toggle",{data:e})}).fail(function(){ajaxify.go(ajaxify.currentPage)})},s}.apply(l,r),a!==void 0&&(u.exports=a)}}]);
