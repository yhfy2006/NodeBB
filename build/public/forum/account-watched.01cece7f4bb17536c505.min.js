"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[623,46923],{76835:(w,v,r)=>{var p,e;p=[r(67910),r(22410),r(91749)],e=function(A,h,_){const s={};let a,f=1;s.init=function(){A.init(),s.handleInfiniteScroll("account/topics")},s.handleInfiniteScroll=function(c){a=c,f=ajaxify.data.pagination.currentPage,config.usePagination||h.init(i)};function i(c){if(c<0)return;const m=utils.params();f+=1,m.page=f,h.loadMoreXhr(m,function(d,o){d.topics&&d.topics.length?g(d.topics,o):o()})}function g(c,m){app.parseAndTranslate(a,"topics",{topics:c},function(d){$('[component="category"]').append(d),d.find(".timeago").timeago(),_.fire("action:topics.loaded",{topics:c}),m()})}return s}.apply(v,p),e!==void 0&&(w.exports=e)},20685:(w,v,r)=>{var p,e;p=[r(67910),r(76835)],e=function(A,h){const _={};return _.init=function(){A.init(),h.handleInfiniteScroll("account/watched")},_}.apply(v,p),e!==void 0&&(w.exports=e)},22410:(w,v,r)=>{var p,e;p=[r(91749),r(29930),r(49897)],e=function(A,h,_){const s={};let a,f=0,i=!1,g,c=0;s.init=function(o,u){const t=$("body");typeof o=="function"?(a=o,g=t):(a=u,g=o||t),f=$(window).scrollTop(),$(window).off("scroll",m).on("scroll",m),t.height()<=$(window).height()&&a(1)};function m(){c&&clearTimeout(c),c=setTimeout(function(){c=0,d()},60)}function d(){const o=utils.findBootstrapEnvironment(),u=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(i||u||app.flags._glance)return;const t=$(window).scrollTop(),n=$(window).height(),l=g.height()-n,T=g.offset()?g.offset().top:0,E=100*(t-T)/(l<=0?n:l),S=15,C=85,D=t>f?1:-1;(E<S&&t<f||E>C&&t>f||E<0&&D>0&&l<0)&&a(D),f=t}return s.loadMore=function(o,u,t){if(i)return;i=!0;const n={method:o,data:u};A.fire("action:infinitescroll.loadmore",n),(n.method.startsWith("/")?_.get:socket.emit)(n.method,n.data,function(T,E){if(T)return i=!1,h.error(T);t(E,function(){i=!1})})},s.loadMoreXhr=function(o,u){if(i)return;i=!0;const t=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),n={url:t,data:o};A.fire("action:infinitescroll.loadmore.xhr",n),$.get(t,o,function(l){u(l,function(){i=!1})}).fail(function(l){i=!1,h.error(String(l.responseJSON||"[[error:no-connection]]"))})},s.removeExtra=function(o,u,t){let n=$();if(o.length<=t)return n;const l=o.length-t;if(u>0){const T=$(document).height(),E=$(window).scrollTop();n=o.slice(0,l).remove(),$(window).scrollTop(E+($(document).height()-T))}else n=o.slice(o.length-l).remove();return n},s}.apply(v,p),e!==void 0&&(w.exports=e)}}]);
