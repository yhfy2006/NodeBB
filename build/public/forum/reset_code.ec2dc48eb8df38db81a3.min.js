"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[5898],{20686:(i,c,r)=>{var a,s;a=[r(29930),r(7065)],s=function(d,l){const o={};return o.init=function(){const f=ajaxify.data.code,n=$("#reset"),t=$("#password"),p=$("#repeat");n.on("click",function(){try{if(utils.assertPasswordValidity(t.val(),l),t.val()!==p.val())throw new Error("[[reset_password:passwords-do-not-match]]");n.prop("disabled",!0).translateHtml('<i class="fa fa-spin fa-refresh"></i> [[reset_password:changing-password]]'),socket.emit("user.reset.commit",{code:f,password:t.val()},function(e){if(e)return ajaxify.refresh(),d.error(e);window.location.href=config.relative_path+"/login"})}catch(e){$("#notice").removeClass("hidden"),$("#notice strong").translateText(e.message)}return!1})},o}.apply(c,a),s!==void 0&&(i.exports=s)}}]);
