"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[26587],{80919:(w,h,n)=>{var f,g;f=[n(47682),n(49897),n(29930),n(91749),n(17459),n(89336),n(52473)],g=function(u,d,i,m,C,E,l){const e={};return e.init=function(){app.enterRoom("tags"),u.init("tag"),$('[component="tag/following"]').on("click",function(){s("follow","put")}),$('[component="tag/not-following"]').on("click",function(){s("unfollow","del")});function s(o,a){d[a](`/tags/${ajaxify.data.tag}/follow`,{}).then(()=>{let t="";o==="follow"?t="[[tags:following-tag.message]]":o==="unfollow"&&(t="[[tags:not-following-tag.message]]"),A(o),i.alert({alert_id:"follow_tag",message:t,type:o==="follow"?"success":"info",timeout:5e3}),m.fire("action:tags.changeWatching",{tag:ajaxify.data.tag,type:o})}).catch(t=>i.error(t))}function A(o){const a={follow:"[[tags:watching]]",unfollow:"[[tags:not-watching]]"};C.translate(a[o],function(k){const c=E.Tooltip.getInstance('[component="tag/watch"]');c&&c.setContent({".tooltip-inner":k})});let t=l.get("tag/following/menu");t.toggleClass("hidden",o!=="follow"),l.get("tag/following/check").toggleClass("fa-check",o==="follow"),t=l.get("tag/not-following/menu"),t.toggleClass("hidden",o!=="unfollow"),l.get("tag/not-following/check").toggleClass("fa-check",o==="unfollow")}},e}.apply(h,f),g!==void 0&&(w.exports=g)}}]);
