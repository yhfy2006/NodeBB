"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[46923],{76835:(v,_,p)=>{var E,u;E=[p(67910),p(22410),p(91749)],u=function(w,T,D){const l={};let r,s=1;l.init=function(){w.init(),l.handleInfiniteScroll("account/topics")},l.handleInfiniteScroll=function(i){r=i,s=ajaxify.data.pagination.currentPage,config.usePagination||T.init(e)};function e(i){if(i<0)return;const h=utils.params();s+=1,h.page=s,T.loadMoreXhr(h,function(f,o){f.topics&&f.topics.length?d(f.topics,o):o()})}function d(i,h){app.parseAndTranslate(r,"topics",{topics:i},function(f){$('[component="category"]').append(f),f.find(".timeago").timeago(),D.fire("action:topics.loaded",{topics:i}),h()})}return l}.apply(_,E),u!==void 0&&(v.exports=u)},22410:(v,_,p)=>{var E,u;E=[p(91749),p(29930),p(49897)],u=function(w,T,D){const l={};let r,s=0,e=!1,d,i=0;l.init=function(o,a){const t=$("body");typeof o=="function"?(r=o,d=t):(r=a,d=o||t),s=$(window).scrollTop(),$(window).off("scroll",h).on("scroll",h),t.height()<=$(window).height()&&r(1)};function h(){i&&clearTimeout(i),i=setTimeout(function(){i=0,f()},60)}function f(){const o=utils.findBootstrapEnvironment(),a=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(e||a||app.flags._glance)return;const t=$(window).scrollTop(),n=$(window).height(),c=d.height()-n,m=d.offset()?d.offset().top:0,g=100*(t-m)/(c<=0?n:c),S=15,C=85,A=t>s?1:-1;(g<S&&t<s||g>C&&t>s||g<0&&A>0&&c<0)&&r(A),s=t}return l.loadMore=function(o,a,t){if(e)return;e=!0;const n={method:o,data:a};w.fire("action:infinitescroll.loadmore",n),(n.method.startsWith("/")?D.get:socket.emit)(n.method,n.data,function(m,g){if(m)return e=!1,T.error(m);t(g,function(){e=!1})})},l.loadMoreXhr=function(o,a){if(e)return;e=!0;const t=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),n={url:t,data:o};w.fire("action:infinitescroll.loadmore.xhr",n),$.get(t,o,function(c){a(c,function(){e=!1})}).fail(function(c){e=!1,T.error(String(c.responseJSON||"[[error:no-connection]]"))})},l.removeExtra=function(o,a,t){let n=$();if(o.length<=t)return n;const c=o.length-t;if(a>0){const m=$(document).height(),g=$(window).scrollTop();n=o.slice(0,c).remove(),$(window).scrollTop(g+($(document).height()-m))}else n=o.slice(o.length-c).remove();return n},l}.apply(_,E),u!==void 0&&(v.exports=u)}}]);
