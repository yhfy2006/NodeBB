"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[9243,20739,61861,87212],{75427:(l,f,r)=>{var c,n;c=[r(91749)],n=function(o){return function(e){e=e===void 0?!0:e,o.fire("action:app.logout"),$.ajax(config.relative_path+"/logout",{type:"POST",headers:{"x-csrf-token":config.csrf_token},beforeSend:function(){app.flags._logout=!0},success:function(i){o.fire("action:app.loggedOut",i),e&&(i.next?window.location.href=i.next:window.location.reload())}})}}.apply(f,c),n!==void 0&&(l.exports=n)},10870:(l,f,r)=>{var c,n;c=[r(40027),r(17459),r(68636),r(29930),r(91749)],n=function(o,t,e,i,p){const u={};let g,m;u.show=function(){p.one("action:ajaxify.end",()=>{h(),d(),u.showEmailConfirmWarning()})},u.showEmailConfirmWarning=function(a){if(!config.emailPrompt||!app.user.uid||parseInt(e.getItem("email-confirm-dismiss"),10)===1)return;const s={alert_id:"email_confirm",type:"warning",timeout:0,closefn:()=>{e.setItem("email-confirm-dismiss",1)}};!app.user.email&&!app.user.isEmailConfirmSent?(s.message="[[error:no-email-to-confirm]]",s.clickfn=function(){i.remove("email_confirm"),ajaxify.go("user/"+app.user.userslug+"/edit/email")},i.alert(s)):!app.user["email:confirmed"]&&!app.user.isEmailConfirmSent?(s.message=a||"[[error:email-not-confirmed]]",s.clickfn=function(){i.remove("email_confirm"),ajaxify.go("/me/edit/email")},i.alert(s)):!app.user["email:confirmed"]&&app.user.isEmailConfirmSent&&(s.message="[[error:email-not-confirmed-email-sent]]",i.alert(s))};function d(){!config.cookies.enabled||!navigator.cookieEnabled||app.inAdmin||e.getItem("cookieconsent")==="1"||(config.cookies.message=t.unescape(config.cookies.message),config.cookies.dismiss=t.unescape(config.cookies.dismiss),config.cookies.link=t.unescape(config.cookies.link),config.cookies.link_url=t.unescape(config.cookies.link_url),app.parseAndTranslate("partials/cookie-consent",config.cookies,function(a){$(document.body).append(a),$(document.body).addClass("cookie-consent-open");const s=$(".cookie-consent");s.find("button").on("click",function(){e.setItem("cookieconsent","1"),s.remove(),$(document.body).removeClass("cookie-consent-open")})}))}function h(){const a=utils.params({full:!0});g=a.has("loggedin"),m=a.get("register"),g&&(i.alert({type:"success",title:"[[global:welcome-back]] "+app.user.username+"!",message:"[[global:you-have-successfully-logged-in]]",timeout:5e3}),a.delete("loggedin")),m&&(o.alert({message:utils.escapeHTML(decodeURIComponent(m))}),a.delete("register")),a.has("lang")&&a.get("lang")===config.defaultLang&&(console.info(`The "lang" parameter was passed in to set the language to "${a.get("lang")}", but that is already the forum default language.`),a.delete("lang"));const s=a.toString();ajaxify.updateHistory(ajaxify.currentPage+(s?`?${s}`:"")+document.location.hash,!0)}return u.showInvalidSession=function(){o.alert({title:"[[error:invalid-session]]",message:"[[error:invalid-session-text]]",closeButton:!1,callback:function(){window.location.reload()}})},u.showSessionMismatch=function(){o.alert({title:"[[error:session-mismatch]]",message:"[[error:session-mismatch-text]]",closeButton:!1,callback:function(){window.location.reload()}})},u}.apply(f,c),n!==void 0&&(l.exports=n)},68636:(l,f,r)=>{var c;c=function(){function n(){this._store={},this._keys=[]}n.prototype.isMock=!0,n.prototype.setItem=function(e,i){e=String(e),this._keys.indexOf(e)===-1&&this._keys.push(e),this._store[e]=i},n.prototype.getItem=function(e){return e=String(e),this._keys.indexOf(e)===-1?null:this._store[e]},n.prototype.removeItem=function(e){e=String(e),this._keys=this._keys.filter(function(i){return i!==e}),this._store[e]=null},n.prototype.clear=function(){this._keys=[],this._store={}},n.prototype.key=function(e){return e=parseInt(e,10)||0,this._keys[e]},Object.defineProperty&&Object.defineProperty(n.prototype,"length",{get:function(){return this._keys.length}});let o;const t=Date.now().toString();try{if(o=window.localStorage,o.setItem(t,t),o.getItem(t)!==t)throw Error("localStorage behaved unexpectedly");return o.removeItem(t),o}catch(e){console.warn(e),console.warn("localStorage failed, falling back on sessionStorage");try{if(o=window.sessionStorage,o.setItem(t,t),o.getItem(t)!==t)throw Error("sessionStorage behaved unexpectedly");return o.removeItem(t),o}catch(i){return console.warn(i),console.warn("sessionStorage failed, falling back on memory storage"),new n}}}.call(f,r,f,l),c!==void 0&&(l.exports=c)}}]);
