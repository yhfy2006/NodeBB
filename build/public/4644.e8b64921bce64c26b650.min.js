(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[4644,99127,34271,1091,86706,88189,6232,18732,33069,62441,98463,49897],{49897:(b,E,m)=>{"use strict";m.r(E),m.d(E,{del:()=>a,get:()=>r,head:()=>s,patch:()=>e,post:()=>d,put:()=>t});var g=m(91749),h=m.n(g),v=m(40027),f=m.n(v);const i=config.relative_path+"/api/v3";async function o(n,l){if(n.url=n.url.startsWith("/api")?config.relative_path+n.url:i+n.url,typeof l=="function"){c(n).then(u=>l(null,u),u=>l(u));return}try{return await c(n)}catch(u){if(u.message==="A valid login session was not found. Please log in and try again.")return(0,v.confirm)("[[error:api.reauth-required]]",w=>{w&&ajaxify.go("login")});throw u}}async function c(n){const{url:l}=n;delete n.url,n.data&&!(n.data instanceof FormData)&&(n.data=JSON.stringify(n.data||{}),n.headers["content-type"]="application/json; charset=utf-8"),{options:n}=await(0,g.fire)("filter:api.options",{options:n}),n.data&&(n.body=n.data,delete n.data);const u=await fetch(l,n),{headers:w}=u,D=w.get("content-type"),C=D&&D.startsWith("application/json");let p;if(n.method!=="head"&&(C?p=await u.json():p=await u.text()),!u.ok)throw p?new Error(C?p.status.message:p):new Error(u.statusText);return C&&p&&p.hasOwnProperty("status")&&p.hasOwnProperty("response")?p.response:p}function r(n,l,u){return o({url:n+(l&&Object.keys(l).length?"?"+$.param(l):"")},u)}function s(n,l,u){return o({url:n+(l&&Object.keys(l).length?"?"+$.param(l):""),method:"head"},u)}function d(n,l,u){return o({url:n,method:"post",data:l,headers:{"x-csrf-token":config.csrf_token}},u)}function e(n,l,u){return o({url:n,method:"patch",data:l,headers:{"x-csrf-token":config.csrf_token}},u)}function t(n,l,u){return o({url:n,method:"put",data:l,headers:{"x-csrf-token":config.csrf_token}},u)}function a(n,l,u){return o({url:n,method:"delete",data:l,headers:{"x-csrf-token":config.csrf_token}},u)}},26940:(b,E,m)=>{b.exports=m(94510)},449:(b,E,m)=>{b.exports=m(91943)},89596:(b,E,m)=>{b.exports=m(62590)},99594:(b,E,m)=>{b.exports=m(57904)},14063:(b,E,m)=>{"use strict";b=m.nmd(b);var g,h;g=[m(17459),m(91749)],h=function(v,f){const i={};let o=!1;i.init=function(){if(i.taskbar=$('[component="taskbar"]'),i.tasklist=i.taskbar.find("ul"),!i.taskbar.length||!i.tasklist.length){o=!0;return}i.taskbar.on("click","li",async function(){const e=$(this),t=e.attr("data-module"),a=e.attr("data-uuid"),n=await app.require(t);return e.hasClass("active")?n.minimize(a):(r(),n.load(a),i.toggleNew(a,!1),i.tasklist.removeClass("active"),e.addClass("active")),!1}),$(window).on("action:app.loggedOut",function(){i.closeAll()})},i.close=async function(e,t){if(o)return;if(i.tasklist.find('[data-module="'+b+'"][data-uuid="'+t+'"]').length){const n=await app.require(e);n&&typeof n.close=="function"&&n.close(t)}},i.closeAll=function(e){if(o)return;let t="[data-uuid]";e&&(t='[data-module="'+e+'"]'+t),i.tasklist.find(t).each(function(a,n){i.close(e||n.getAttribute("data-module"),n.getAttribute("data-uuid"))})},i.discard=function(e,t){if(o)return;i.tasklist.find('[data-module="'+e+'"][data-uuid="'+t+'"]').remove(),c()},i.push=function(e,t,a,n){if(n=n||function(){},o)return n();const l=i.tasklist.find('li[data-uuid="'+t+'"]'),u={module:e,uuid:t,options:a,element:l};f.fire("filter:taskbar.push",u),!l.length&&u.module?s(u,n):n(l)},i.get=function(e){return o?[]:$('[data-module="'+e+'"]').map(function(a,n){return $(n).data()})},i.minimize=function(e,t){if(o)return;i.tasklist.find('[data-module="'+e+'"][data-uuid="'+t+'"]').toggleClass("active",!1)},i.toggleNew=function(e,t,a){if(o)return;i.tasklist.find('[data-uuid="'+e+'"]').toggleClass("new",t),a||f.fire("action:taskbar.toggleNew",e)},i.updateActive=function(e){if(o)return;const t=i.tasklist.find("li");t.removeClass("active"),t.filter('[data-uuid="'+e+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+e+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},i.isActive=function(e){return o?!1:i.tasklist.find('li[data-uuid="'+e+'"]').hasClass("active")};function c(){if(o)return;i.tasklist.find("li").length>0?i.taskbar.attr("data-active","1"):i.taskbar.removeAttr("data-active")}function r(){o||i.tasklist.find(".active").removeClass("active")}function s(e,t){if(o)return t();v.translate(e.options.title,function(a){const n=$("<div></div>").text(a||"NodeBB Task").html(),l=$("<li></li>").addClass(e.options.className).html('<a href="#"'+(e.options.image?` style="background-image: url('`+e.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(e.options.icon?'<i class="fa '+e.options.icon+'"></i> ':"")+'<span aria-label="'+n+'" component="taskbar/title">'+n+"</span></a>").attr({title:n,"data-module":e.module,"data-uuid":e.uuid}).addClass(e.options.state!==void 0?e.options.state:"active");(!e.options.state||e.options.state==="active")&&r(),i.tasklist.append(l),c(),e.element=l,l.data(e),f.fire("action:taskbar.pushed",e),t(l)})}const d=function(e,t,a){switch(t){case"title":e.find('[component="taskbar/title"]').text(a);break;case"icon":e.find("i").attr("class","fa fa-"+a);break;case"image":e.find("a").css("background-image",a?'url("'+a.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":e.find("a").css("background-color",a);break;case"color":e.find("a").css("color",a);break}};return i.update=function(e,t,a){if(o)return;const n=i.tasklist.find('[data-module="'+e+'"][data-uuid="'+t+'"]');if(!n.length)return;const l=n.data();Object.keys(a).forEach(function(u){l[u]=a[u],d(n,u,a[u])}),n.data(l)},i}.apply(E,g),h!==void 0&&(b.exports=h)},36159:(b,E,m)=>{"use strict";var g,h;g=[m(49897),m(40027),m(29930),m(24187),m(81335),m(17459),m(65285)],h=function(v,f,i,o,c,r){const s={};return s.get=d=>v.get(`/topics/${d}/thumbs`,{}),s.getByPid=d=>v.get(`/posts/${d}`,{}).then(e=>s.get(e.tid)),s.delete=(d,e)=>v.del(`/topics/${d}/thumbs`,{path:e}),s.deleteAll=d=>{s.get(d).then(e=>{Promise.all(e.map(t=>s.delete(d,t.url)))})},s.upload=d=>new Promise(e=>{o.show({title:"[[topic:composer.thumb-title]]",method:"put",route:config.relative_path+`/api/v3/topics/${d}/thumbs`},function(t){e(t)})}),s.modal={},s.modal.open=function(d){const{id:e,pid:t}=d;let{modal:a}=d,n;return new Promise(l=>{Promise.all([s.get(e),t?s.getByPid(t):[]]).then(u=>new Promise(w=>{const D=u.reduce((C,p)=>C.concat(p));n=D.length,w(D)})).then(u=>c.render("modals/topic-thumbs",{thumbs:u})).then(u=>{a?r.translate(u,function(w){a.find(".bootbox-body").html(w),s.modal.handleSort({modal:a,numThumbs:n})}):(a=f.dialog({title:"[[modules:thumbs.modal.title]]",message:u,onEscape:!0,backdrop:!0,buttons:{add:{label:'<i class="fa fa-plus"></i> [[modules:thumbs.modal.add]]',className:"btn-success",callback:()=>(s.upload(e).then(()=>{s.modal.open({...d,modal:a}),Promise.all([m.e(54516),m.e(99166),m.e(47061),m.e(49775)]).then(function(){var w=[m(71431)];(D=>{D.updateThumbCount(e,$(`[component="composer"][data-uuid="${e}"]`)),l()}).apply(null,w)}).catch(m.oe)}),!1)},close:{label:"[[global:close]]",className:"btn-primary"}}}),s.modal.handleDelete({...d,modal:a}),s.modal.handleSort({modal:a,numThumbs:n}))})})},s.modal.handleDelete=d=>{d.modal.get(0).addEventListener("click",t=>{t.target.closest('button[data-action="remove"]')&&f.confirm("[[modules:thumbs.modal.confirm-remove]]",a=>{if(!a)return;const n=t.target.closest("[data-id]").getAttribute("data-id"),l=t.target.closest("[data-path]").getAttribute("data-path");v.del(`/topics/${n}/thumbs`,{path:l}).then(()=>{s.modal.open(d)}).catch(i.error)})})},s.modal.handleSort=({modal:d,numThumbs:e})=>{if(e>1){const t=d.find(".topic-thumbs-modal");t.sortable({items:"[data-id]"}),t.on("sortupdate",s.modal.handleSortChange)}},s.modal.handleSortChange=(d,e)=>{const t=e.item.get(0).parentNode.querySelectorAll("[data-id]");Array.from(t).forEach((a,n)=>{const l=a.getAttribute("data-id");let u=a.getAttribute("data-path");u=u.replace(new RegExp(`^${config.upload_url}`),""),v.put(`/topics/${l}/thumbs/order`,{path:u,order:n}).catch(i.error)})},s}.apply(E,g),h!==void 0&&(b.exports=h)},24187:(b,E,m)=>{"use strict";var g,h;g=[m(64061)],h=function(){const v={};v.show=function(r,s){const d=r.hasOwnProperty("fileSize")&&r.fileSize!==void 0?parseInt(r.fileSize,10):!1;app.parseAndTranslate("modals/upload-file",{showHelp:r.hasOwnProperty("showHelp")&&r.showHelp!==void 0?r.showHelp:!0,fileSize:d,title:r.title||"[[global:upload-file]]",description:r.description||"",button:r.button||"[[global:upload]]",accept:r.accept?r.accept.replace(/,/g,"&#44; "):""},function(e){e.modal("show"),e.on("hidden.bs.modal",function(){e.remove()});const t=e.find("#uploadForm");t.attr("action",r.route),t.find("#params").val(JSON.stringify(r.params)),e.find("#fileUploadSubmitBtn").on("click",function(){$(this).addClass("disabled"),t.submit()}),t.submit(function(){return f(e,d,s),!1})})},v.hideAlerts=function(r){$(r).find("#alert-status, #alert-success, #alert-error, #upload-progress-box").addClass("hide")};function f(r,s,d){i(r,"status","[[uploads:uploading-file]]"),r.find("#upload-progress-bar").css("width","0%"),r.find("#upload-progress-box").show().removeClass("hide");const e=r.find("#fileInput");if(!e.val())return i(r,"error","[[uploads:select-file-to-upload]]");if(!c(e[0],s))return i(r,"error","[[error:file-too-big, "+s+"]]");v.ajaxSubmit(r,d)}function i(r,s,d){v.hideAlerts(r),s==="error"&&r.find("#fileUploadSubmitBtn").removeClass("disabled"),d=d.replace(/&amp;#44/g,"&#44"),r.find("#alert-"+s).translateText(d).removeClass("hide")}v.ajaxSubmit=function(r,s){r.find("#uploadForm").ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},error:function(e){e=o(e),i(r,"error",e.responseJSON?.status?.message||e.responseJSON?.error||`[[error:upload-error-fallback, ${e.status} ${e.statusText}]]`)},uploadProgress:function(e,t,a,n){r.find("#upload-progress-bar").css("width",n+"%")},success:function(e){let t=o(e);e.hasOwnProperty("response")&&e.hasOwnProperty("status")&&e.status.code==="ok"&&(t=e.response.images),s(t[0].url),i(r,"success","[[uploads:upload-success]]"),setTimeout(function(){v.hideAlerts(r),r.modal("hide")},750)}})};function o(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return{error:"[[error:parse-error]]"}}return r}function c(r,s){return window.FileReader&&s?r.files[0].size<=s*1e3:!0}return v}.apply(E,g),h!==void 0&&(b.exports=h)},94510:(b,E,m)=>{"use strict";var g,h;g=[m(89596)],h=function(v){var f={};return f.insertIntoTextarea=function(i,o){var c={context:this,textarea:i,value:o,preventDefault:!1};if($(window).trigger("action:composer.insertIntoTextarea",c),!c.preventDefault){var r=$(c.textarea),s=r.val(),d=r.parents('[component="composer"]');r.val(s.slice(0,c.textarea.selectionStart)+c.value+s.slice(c.textarea.selectionStart)),v.render(d)}},f.replaceSelectionInTextareaWith=function(i,o){var c={context:this,textarea:i,value:o,preventDefault:!1};if($(window).trigger("action:composer.replaceSelectionInTextareaWith",c),!c.preventDefault){var r=$(c.textarea),s=r.val(),d=r.parents('[component="composer"]');r.val(s.slice(0,c.textarea.selectionStart)+c.value+s.slice(c.textarea.selectionEnd)),v.render(d)}},f.wrapSelectionInTextareaWith=function(i,o,c){var r={context:this,textarea:i,leading:o,trailing:c,preventDefault:!1};if($(window).trigger("action:composer.wrapSelectionInTextareaWith",r),!r.preventDefault){c===void 0&&(c=o);var s=$(i),d=s.val(),e=/^(\s*)([\s\S]*?)(\s*)$/.exec(d.slice(i.selectionStart,i.selectionEnd));return e[2]||(e=[null,"",d.slice(i.selectionStart,i.selectionEnd),""]),s.val(d.slice(0,i.selectionStart)+e[1]+o+e[2]+c+e[3]+d.slice(i.selectionEnd)),[e[1].length,e[3].length]}},f.updateTextareaSelection=function(i,o,c){var r={context:this,textarea:i,start:o,end:c,preventDefault:!1};$(window).trigger("action:composer.updateTextareaSelection",r),!r.preventDefault&&(i.setSelectionRange(r.start,r.end),$(r.textarea).focus())},f.getBlockData=function(i,o,c){var r=i.value;o=o.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");var s=new RegExp(o,"g"),d,e=[],t;for(r=r.split(`
`).reduce(function(a,n){return a!==null||(a=c<=n.length?n:null,a===null&&(c-=n.length+1)),a},null);(d=s.exec(r))!==null;)e.push(d.index);return t={in:!!(e.reduce(function(a,n){return c>=n+2&&(a+=1),a},0)%2),atEnd:e.reduce(function(a,n){return a||c===n},!1)},t.atEnd=t.in?t.atEnd:!1,t},f}.apply(E,g),h!==void 0&&(b.exports=h)},91943:(b,E,m)=>{"use strict";var g,h;g=[m(89596),m(99594),m(36159),m(51916)],h=function(v,f,i,o){var c={},r={picture:function(){var t=this;t.find("#files").attr("accept","image/*").click()},upload:function(){var t=this;t.find("#files").attr("accept","").click()},thumbs:function(){c.exitFullscreen();var t=this;Promise.all([m.e(54516),m.e(99166),m.e(47061),m.e(29567)]).then(function(){var a=[m(71431)];(function(n){const l=t.get(0).getAttribute("data-uuid"),u=n.posts[l];(u.action==="topics.post"||u.action==="posts.edit"&&u.isMain)&&i.modal.open({id:l,pid:u.pid}).then(()=>{t.trigger("thumb.uploaded"),n.updateThumbCount(l,t)})}).apply(null,a)}).catch(m.oe)},tags:function(){var t=this;t.find(".tags-container").toggleClass("hidden")},zen:function(){var t=this;$(window).one("resize",function(){function a(){o.isFullscreen||(app.toggleNavbar(!0),$("html").removeClass("zen-mode"),f.reposition(t),$(window).off("resize",a))}o.isFullscreen&&(app.toggleNavbar(!1),$("html").addClass("zen-mode"),t.find(".write").focus(),$(window).on("resize",a),$(window).one("action:composer.topics.post action:composer.posts.reply action:composer.posts.edit action:composer.discard",o.exit))}),o.toggle(t.get(0)),$(window).trigger("action:composer.fullscreen",{postContainer:t})}},s=[];c.exitFullscreen=function(){o.isEnabled&&o.isFullscreen&&o.exit()},c.addComposerButtons=function(){const t=$(".formatting-bar"),a=t.find(".formatting-group #fileForm");s.forEach(l=>{let u="";Array.isArray(l.dropdownItems)&&l.dropdownItems.length?u=e(l):u=`
					<li title="${l.title||""}">
						<button data-format="${l.name}" class="btn btn-sm btn-link text-reset position-relative" aria-label="${l.title||""}">
							<i class="${l.iconClass}"></i>
							${d(l)}
						</button>
					</li>
				`,a.before(u)}),t.find(".formatting-group>li").tooltip({container:"#content",animation:!1,trigger:"manual"}).on("mouseenter",function(l){const u=$(l.target);u.hasClass("dropdown-menu")||!!u.parents(".dropdown-menu").length||$(this).tooltip("show")}).on("click mouseleave",function(){$(this).tooltip("hide")})};function d(t){let a="";return t.badge&&(a='<span class="px-1 position-absolute top-0 start-100 translate-middle badge rounded text-bg-info"></span>'),a}function e(t){const a=t.dropdownItems.map(function(n){return`
				<li>
					<a href="#" data-format="${n.name}" class="dropdown-item rounded-1 position-relative" role="menuitem">
						<i class="${n.iconClass} text-secondary"></i> ${n.text}
						${d(n)}
					</a>
				</li>
			`});return`
			<li class="dropdown bottom-sheet" tab-index="-1" title="${t.title}">
				<button class="btn btn-sm btn-link text-reset" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="${t.title}">
					<i class="${t.iconClass}"></i>
				</button>
				<ul class="dropdown-menu p-1" role="menu">
				${a}
				</ul>
			</li>
		`}return c.addButton=function(t,a,n,l){l=l||t.replace("fa fa-",""),r[l]=a,s.push({name:l,iconClass:t,title:n})},c.addDropdown=function(t){s.push({iconClass:t.iconClass,title:t.title,dropdownItems:t.dropdownItems}),t.dropdownItems.forEach(a=>{a.name&&a.onClick&&(r[a.name]=a.onClick)})},c.getDispatchTable=function(){return r},c.addButtonDispatch=function(t,a){r[t]=a},c.addHandler=function(t){t.on("click",".formatting-bar [data-format]",function(a){var n=$(this).attr("data-format"),l=$(this).parents('[component="composer"]').find("textarea")[0];r.hasOwnProperty(n)&&(r[n].call(t,l,l.selectionStart,l.selectionEnd,a),v.render(t))})},c}.apply(E,g),h!==void 0&&(b.exports=h)},62590:(b,E,m)=>{"use strict";var g,h;g=[m(91749)],h=function(v){var f={};return f.render=function(i,o){if(o=o||function(){},!i.find(".preview-container").is(":visible"))return o();var c=i.find("textarea");socket.emit("plugins.composer.renderPreview",c.val(),function(r,s){r||(s=$("<div>"+s+"</div>"),s.find("img:not(.not-responsive)").addClass("img-fluid"),i.find(".preview").html(s),v.fire("action:composer.preview",{postContainer:i,preview:s}),o())})},f.matchScroll=function(i){if(i.find(".preview-container").is(":visible")){var o=i.find("textarea"),c=i.find(".preview");if(o.length&&c.length){var r=o[0].scrollHeight-o.height();if(r===0)return;var s=o.scrollTop()/r;c.scrollTop(Math.max(c[0].scrollHeight-c.height(),0)*s)}}},f.handleToggler=function(i){const o=i.get(0);f.env=utils.findBootstrapEnvironment();const c=["xs","sm"].includes(f.env),r=o.querySelector('.formatting-bar [data-action="preview"]'),s=r.querySelector(".show-text"),d=r.querySelector(".hide-text"),e=localStorage.getItem("composer:previewToggled"),t=config["composer-default"].hidePreviewOnOpen==="on";let a=!c&&(e===null&&!t||e==="true");const n=o.querySelector(".preview-container"),l=o.querySelector(".write-container");if(!r)return;function u(w){c?(n.classList.toggle("hide",!1),l.classList.toggle("maximized",!1),n.classList.toggle("d-none",!w),n.classList.toggle("d-flex",w),n.classList.toggle("w-100",w),l.classList.toggle("d-flex",!w),l.classList.toggle("d-none",w),l.classList.toggle("w-100",!w)):(n.classList.toggle("hide",!w),l.classList.toggle("w-50",w),l.classList.toggle("w-100",!w),localStorage.setItem("composer:previewToggled",w)),s.classList.toggle("hide",w),d.classList.toggle("hide",!w),w&&f.render(i),f.matchScroll(i)}f.toggle=u,r.addEventListener("click",w=>{w.button===0&&(a=!a,u(a))}),u(a)},f}.apply(E,g),h!==void 0&&(b.exports=h)},57904:(b,E,m)=>{"use strict";var g,h;g=[m(14063)],h=function(v){var f={},i=0,o=.3,c=.05,r=768,s=$("body"),d=$(window),e=$('[component="navbar"]');const t=document.getElementById("content");var a=e[0];function n(){return localStorage.getItem("composer:resizeRatio")||.5}function l(p){localStorage.setItem("composer:resizeRatio",Math.min(p,1))}function u(){var p;a?p=a.getBoundingClientRect():p={bottom:0};var x=Math.max(p.bottom,0),A={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};return A.width=A.right,A.height=A.bottom,A.boundedTop=x,A.boundedHeight=A.bottom-x,A}function w(p,x){var A=u(),F=p[0],B=window.getComputedStyle(F),N=parseInt(B.getPropertyValue("min-height"),10),I=Math.max(N/window.innerHeight,o);if(A.width>=r){const T=(A.height-A.boundedHeight)/A.height;x=Math.min(Math.max(x,I+T),1);var z=x*A.boundedHeight/A.height;F.style.top=((1-z)*100).toString()+"%";var R=F.getBoundingClientRect();t.style.paddingBottom=(R.bottom-R.top).toString()+"px"}else F.style.top=0,t.style.paddingBottom=0;p.ratio=x,v.updateActive(p.attr("data-uuid"))}var D=w,C=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return C&&(D=function(p,x){C(function(){w(p,x),setTimeout(function(){d.trigger("action:composer.resize"),p.trigger("action:composer.resize")},0)})}),f.reposition=function(p){var x=n();x>=1-c&&(x=1,p.addClass("maximized")),D(p,x)},f.maximize=function(p,x){x?D(p,1):f.reposition(p)},f.handleResize=function(p){var x=0,A=0,F=0,B=p.find(".resizer"),N=B[0];function I(S){var P=N.getBoundingClientRect(),k=(P.top+P.bottom)/2;x=(k-S.clientY)/2,A=S.clientY,d.on("mousemove",z),d.on("mouseup",R),s.on("touchmove",T)}function z(S){var P=S.clientY-x,k=u(),y=(k.height-P)/k.boundedHeight;D(p,y)}function R(S){S.preventDefault(),F=S.clientY,p.find("textarea").focus(),d.off("mousemove",z),d.off("mouseup",R),s.off("touchmove",T);var P=F-x,k=u(),y=(k.height-P)/k.boundedHeight;F-A===0&&p.hasClass("maximized")?(p.removeClass("maximized"),y=!i||i>=1-c?.5:i,D(p,y)):F-A===0||y>=1-c?(D(p,1),p.addClass("maximized"),i=y):p.removeClass("maximized"),l(y)}function T(S){S.preventDefault(),z(S.touches[0])}B.on("mousedown",function(S){S.button===0&&(S.preventDefault(),I(S))}).on("touchstart",function(S){S.preventDefault(),I(S.touches[0])}).on("touchend",R)},f}.apply(E,g),h!==void 0&&(b.exports=h)},51916:b=>{/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var E=typeof window<"u"&&typeof window.document<"u"?window.document:{},m=b.exports,g=function(){for(var f,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,c=i.length,r={};o<c;o++)if(f=i[o],f&&f[1]in E){for(o=0;o<f.length;o++)r[i[0][o]]=f[o];return r}return!1}(),h={change:g.fullscreenchange,error:g.fullscreenerror},v={request:function(f,i){return new Promise(function(o,c){var r=function(){this.off("change",r),o()}.bind(this);this.on("change",r),f=f||E.documentElement;var s=f[g.requestFullscreen](i);s instanceof Promise&&s.then(r).catch(c)}.bind(this))},exit:function(){return new Promise(function(f,i){if(!this.isFullscreen){f();return}var o=function(){this.off("change",o),f()}.bind(this);this.on("change",o);var c=E[g.exitFullscreen]();c instanceof Promise&&c.then(o).catch(i)}.bind(this))},toggle:function(f,i){return this.isFullscreen?this.exit():this.request(f,i)},onchange:function(f){this.on("change",f)},onerror:function(f){this.on("error",f)},on:function(f,i){var o=h[f];o&&E.addEventListener(o,i,!1)},off:function(f,i){var o=h[f];o&&E.removeEventListener(o,i,!1)},raw:g};if(!g){m?b.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(v,{isFullscreen:{get:function(){return!!E[g.fullscreenElement]}},element:{enumerable:!0,get:function(){return E[g.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!E[g.fullscreenEnabled]}}}),m?b.exports=v:window.screenfull=v})()}}]);
